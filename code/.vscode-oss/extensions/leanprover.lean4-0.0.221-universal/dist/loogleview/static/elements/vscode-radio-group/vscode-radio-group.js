var __decorate=this&&this.__decorate||function(e,o,t,d){var s,i=arguments.length,c=i<3?o:null===d?d=Object.getOwnPropertyDescriptor(o,t):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,o,t,d);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(c=(i<3?s(c):i>3?s(o,t,c):s(o,t))||c);return i>3&&c&&Object.defineProperty(o,t,c),c};import{html}from"lit";import{customElement,property,queryAssignedElements,state}from"lit/decorators.js";import{VscElement}from"../includes/VscElement.js";import styles from"./vscode-radio-group.styles.js";let VscodeRadioGroup=class extends VscElement{constructor(){super(...arguments),this.variant="horizontal",this.role="radiogroup",this._focusedRadio=-1,this._checkedRadio=-1,this._firstContentLoaded=!1,this._onKeyDownBound=this._onKeyDown.bind(this)}connectedCallback(){super.connectedCallback(),this.addEventListener("keydown",this._onKeyDownBound)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("keydown",this._onKeyDownBound)}_uncheckPreviousChecked(e,o){-1!==e&&(this._radios[e].checked=!1),-1!==o&&(this._radios[o].tabIndex=-1)}_afterCheck(){this._focusedRadio=this._checkedRadio,this._radios[this._checkedRadio].checked=!0,this._radios[this._checkedRadio].tabIndex=0,this._radios[this._checkedRadio].focus()}_checkPrev(){const e=this._radios.findIndex((e=>e.checked)),o=this._radios.findIndex((e=>e.focused)),t=-1!==o?o:e;this._uncheckPreviousChecked(e,o),this._checkedRadio=-1===t?this._radios.length-1:t-1>=0?t-1:this._radios.length-1,this._afterCheck()}_checkNext(){const e=this._radios.findIndex((e=>e.checked)),o=this._radios.findIndex((e=>e.focused)),t=-1!==o?o:e;this._uncheckPreviousChecked(e,o),-1===t?this._checkedRadio=0:t+1<this._radios.length?this._checkedRadio=t+1:this._checkedRadio=0,this._afterCheck()}_onKeyDown(e){const{key:o}=e;["ArrowLeft","ArrowUp","ArrowRight","ArrowDown"].includes(o)&&e.preventDefault(),"ArrowRight"!==o&&"ArrowDown"!==o||this._checkNext(),"ArrowLeft"!==o&&"ArrowUp"!==o||this._checkPrev()}_onChange(e){const o=this._radios.findIndex((o=>o===e.target));-1!==o&&(-1!==this._focusedRadio&&(this._radios[this._focusedRadio].tabIndex=-1),-1!==this._checkedRadio&&this._checkedRadio!==o&&(this._radios[this._checkedRadio].checked=!1),this._focusedRadio=o,this._checkedRadio=o,this._radios[o].tabIndex=0)}_onSlotChange(){if(!this._firstContentLoaded){const e=this._radios.findIndex((e=>e.autofocus));e>-1&&(this._focusedRadio=e),this._firstContentLoaded=!0}this._radios.forEach(((e,o)=>{this._focusedRadio>-1?e.tabIndex=o===this._focusedRadio?0:-1:e.tabIndex=0===o?0:-1}))}render(){return html`
      <div class="wrapper">
        <slot
          @slotchange=${this._onSlotChange}
          @vsc-change=${this._onChange}
        ></slot>
      </div>
    `}};VscodeRadioGroup.styles=styles,__decorate([property({reflect:!0})],VscodeRadioGroup.prototype,"variant",void 0),__decorate([property({reflect:!0})],VscodeRadioGroup.prototype,"role",void 0),__decorate([queryAssignedElements({selector:"vscode-radio"})],VscodeRadioGroup.prototype,"_radios",void 0),__decorate([state()],VscodeRadioGroup.prototype,"_focusedRadio",void 0),__decorate([state()],VscodeRadioGroup.prototype,"_checkedRadio",void 0),VscodeRadioGroup=__decorate([customElement("vscode-radio-group")],VscodeRadioGroup);export{VscodeRadioGroup};