var __decorate=this&&this.__decorate||function(t,e,o,i){var s,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(s=t[c])&&(r=(n<3?s(r):n>3?s(e,o,r):s(e,o))||r);return n>3&&r&&Object.defineProperty(e,o,r),r};import{html,nothing}from"lit";import{customElement,property}from"lit/decorators.js";import{classMap}from"lit/directives/class-map.js";import{VscElement}from"../includes/VscElement.js";import"../vscode-icon/index.js";import styles from"./vscode-button.styles.js";import{ifDefined}from"lit/directives/if-defined.js";let VscodeButton=class extends VscElement{get form(){return this._internals.form}constructor(){super(),this.autofocus=!1,this.tabIndex=0,this.secondary=!1,this.role="button",this.disabled=!1,this.icon="",this.iconSpin=!1,this.iconAfter="",this.iconAfterSpin=!1,this.focused=!1,this.name=void 0,this.type="button",this.value="",this._prevTabindex=0,this._handleFocus=()=>{this.focused=!0},this._handleBlur=()=>{this.focused=!1},this.addEventListener("keydown",this._handleKeyDown.bind(this)),this.addEventListener("click",this._handleClick.bind(this)),this._internals=this.attachInternals()}connectedCallback(){super.connectedCallback(),this.autofocus&&(this.tabIndex<0&&(this.tabIndex=0),this.updateComplete.then((()=>{this.focus(),this.requestUpdate()}))),this.addEventListener("focus",this._handleFocus),this.addEventListener("blur",this._handleBlur)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("focus",this._handleFocus),this.removeEventListener("blur",this._handleBlur)}update(t){super.update(t),t.has("value")&&this._internals.setFormValue(this.value),t.has("disabled")&&(this.disabled?(this._prevTabindex=this.tabIndex,this.tabIndex=-1):this.tabIndex=this._prevTabindex)}_executeAction(){"submit"===this.type&&this._internals.form&&this._internals.form.requestSubmit(),"reset"===this.type&&this._internals.form&&this._internals.form.reset()}_handleKeyDown(t){"Enter"!==t.key&&" "!==t.key||this.hasAttribute("disabled")||(this.dispatchEvent(new CustomEvent("vsc-click",{detail:{originalEvent:new MouseEvent("click")}})),this._executeAction())}_handleClick(t){this.hasAttribute("disabled")||(this.dispatchEvent(new CustomEvent("vsc-click",{detail:{originalEvent:t}})),this._executeAction())}render(){const t=""!==this.icon,e=""!==this.iconAfter,o={wrapper:!0,"has-icon-before":t,"has-icon-after":e},i=t?html`<vscode-icon
          name="${this.icon}"
          ?spin="${this.iconSpin}"
          spin-duration="${ifDefined(this.iconSpinDuration)}"
          class="icon"
        ></vscode-icon>`:nothing,s=e?html`<vscode-icon
          name="${this.iconAfter}"
          ?spin="${this.iconAfterSpin}"
          spin-duration="${ifDefined(this.iconAfterSpinDuration)}"
          class="icon-after"
        ></vscode-icon>`:nothing;return html`
      <span class="${classMap(o)}">
        ${i}
        <slot></slot>
        ${s}
      </span>
    `}};VscodeButton.styles=styles,VscodeButton.formAssociated=!0,__decorate([property({type:Boolean,reflect:!0})],VscodeButton.prototype,"autofocus",void 0),__decorate([property({type:Number,reflect:!0})],VscodeButton.prototype,"tabIndex",void 0),__decorate([property({type:Boolean,reflect:!0})],VscodeButton.prototype,"secondary",void 0),__decorate([property({reflect:!0})],VscodeButton.prototype,"role",void 0),__decorate([property({type:Boolean,reflect:!0})],VscodeButton.prototype,"disabled",void 0),__decorate([property()],VscodeButton.prototype,"icon",void 0),__decorate([property({type:Boolean,reflect:!0,attribute:"icon-spin"})],VscodeButton.prototype,"iconSpin",void 0),__decorate([property({type:Number,reflect:!0,attribute:"icon-spin-duration"})],VscodeButton.prototype,"iconSpinDuration",void 0),__decorate([property({attribute:"icon-after"})],VscodeButton.prototype,"iconAfter",void 0),__decorate([property({type:Boolean,reflect:!0,attribute:"icon-after-spin"})],VscodeButton.prototype,"iconAfterSpin",void 0),__decorate([property({type:Number,reflect:!0,attribute:"icon-after-spin-duration"})],VscodeButton.prototype,"iconAfterSpinDuration",void 0),__decorate([property({type:Boolean,reflect:!0})],VscodeButton.prototype,"focused",void 0),__decorate([property({type:String,reflect:!0})],VscodeButton.prototype,"name",void 0),__decorate([property({reflect:!0})],VscodeButton.prototype,"type",void 0),__decorate([property()],VscodeButton.prototype,"value",void 0),VscodeButton=__decorate([customElement("vscode-button")],VscodeButton);export{VscodeButton};