{"version":3,"file":"vscode-button.js","sourceRoot":"","sources":["../../src/vscode-button/vscode-button.ts"],"names":[],"mappings":"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","sourcesContent":["import {html, nothing, PropertyValueMap, TemplateResult} from 'lit';\nimport {customElement, property} from 'lit/decorators.js';\nimport {classMap} from 'lit/directives/class-map.js';\nimport {VscElement} from '../includes/VscElement.js';\nimport '../vscode-icon/index.js';\nimport styles from './vscode-button.styles.js';\nimport {ifDefined} from 'lit/directives/if-defined.js';\n\n/**\n * @fires vsc-click Dispatched only when button is not in disabled state.\n *\n * @cssprop --vscode-button-background\n * @cssprop --vscode-button-foreground\n * @cssprop [--vscode-button-border=var(--vscode-button-background)]\n * @cssprop --vscode-button-hoverBackground\n * @cssprop --vscode-font-family\n * @cssprop --vscode-font-size\n * @cssprop --vscode-font-weight\n * @cssprop --vscode-button-secondaryForeground\n * @cssprop --vscode-button-secondaryBackground\n * @cssprop --vscode-button-secondaryHoverBackground\n * @cssprop --vscode-focusBorder\n */\n@customElement('vscode-button')\nexport class VscodeButton extends VscElement {\n  static styles = styles;\n\n  /** @internal */\n  static formAssociated = true;\n\n  @property({type: Boolean, reflect: true})\n  autofocus = false;\n\n  /** @internal */\n  @property({type: Number, reflect: true})\n  tabIndex = 0;\n\n  /**\n   * Button has a less prominent style.\n   */\n  @property({type: Boolean, reflect: true})\n  secondary = false;\n\n  /** @internal */\n  @property({reflect: true})\n  role = 'button';\n\n  @property({type: Boolean, reflect: true})\n  disabled = false;\n\n  /**\n   * A [Codicon](https://microsoft.github.io/vscode-codicons/dist/codicon.html) before the label\n   */\n  @property()\n  icon = '';\n\n  /**\n   * Spin property for the icon\n   */\n  @property({type: Boolean, reflect: true, attribute: 'icon-spin'})\n  iconSpin? = false;\n\n  /**\n   * Duration property for the icon\n   */\n  @property({type: Number, reflect: true, attribute: 'icon-spin-duration'})\n  iconSpinDuration?: number;\n\n  /**\n   * A [Codicon](https://microsoft.github.io/vscode-codicons/dist/codicon.html) after the label\n   */\n  @property({attribute: 'icon-after'})\n  iconAfter = '';\n\n  /**\n   * Spin property for the after icon\n   */\n  @property({type: Boolean, reflect: true, attribute: 'icon-after-spin'})\n  iconAfterSpin = false;\n\n  /**\n   * Duration property for the after icon\n   */\n  @property({\n    type: Number,\n    reflect: true,\n    attribute: 'icon-after-spin-duration',\n  })\n  iconAfterSpinDuration?: number;\n\n  @property({type: Boolean, reflect: true})\n  focused = false;\n\n  @property({type: String, reflect: true})\n  name: string | undefined = undefined;\n\n  @property({reflect: true})\n  type: 'submit' | 'reset' | 'button' = 'button';\n\n  @property()\n  value = '';\n\n  private _prevTabindex = 0;\n  private _internals: ElementInternals;\n\n  get form(): HTMLFormElement | null {\n    return this._internals.form;\n  }\n\n  constructor() {\n    super();\n    this.addEventListener('keydown', this._handleKeyDown.bind(this));\n    this.addEventListener('click', this._handleClick.bind(this));\n    this._internals = this.attachInternals();\n  }\n\n  connectedCallback(): void {\n    super.connectedCallback();\n\n    if (this.autofocus) {\n      if (this.tabIndex < 0) {\n        this.tabIndex = 0;\n      }\n\n      this.updateComplete.then(() => {\n        this.focus();\n        this.requestUpdate();\n      });\n    }\n\n    this.addEventListener('focus', this._handleFocus);\n    this.addEventListener('blur', this._handleBlur);\n  }\n\n  disconnectedCallback(): void {\n    super.disconnectedCallback();\n    this.removeEventListener('focus', this._handleFocus);\n    this.removeEventListener('blur', this._handleBlur);\n  }\n\n  update(\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    changedProperties: PropertyValueMap<any> | Map<PropertyKey, unknown>\n  ): void {\n    super.update(changedProperties);\n\n    if (changedProperties.has('value')) {\n      this._internals.setFormValue(this.value);\n    }\n\n    if (changedProperties.has('disabled')) {\n      if (this.disabled) {\n        this._prevTabindex = this.tabIndex;\n        this.tabIndex = -1;\n      } else {\n        this.tabIndex = this._prevTabindex;\n      }\n    }\n  }\n\n  private _executeAction() {\n    if (this.type === 'submit' && this._internals.form) {\n      this._internals.form.requestSubmit();\n    }\n\n    if (this.type === 'reset' && this._internals.form) {\n      this._internals.form.reset();\n    }\n  }\n\n  private _handleKeyDown(event: KeyboardEvent) {\n    if (\n      (event.key === 'Enter' || event.key === ' ') &&\n      !this.hasAttribute('disabled')\n    ) {\n      /**\n       * @deprecated\n       * Please use the standard `click` event.\n       */\n      this.dispatchEvent(\n        new CustomEvent<{\n          originalEvent: MouseEvent;\n        }>('vsc-click', {\n          detail: {\n            originalEvent: new MouseEvent('click'),\n          },\n        })\n      );\n\n      this._executeAction();\n    }\n  }\n\n  private _handleClick(event: MouseEvent) {\n    if (!this.hasAttribute('disabled')) {\n      this.dispatchEvent(\n        new CustomEvent<{\n          originalEvent: MouseEvent;\n        }>('vsc-click', {\n          detail: {\n            originalEvent: event,\n          },\n        })\n      );\n\n      this._executeAction();\n    }\n  }\n\n  private _handleFocus = () => {\n    this.focused = true;\n  };\n\n  private _handleBlur = () => {\n    this.focused = false;\n  };\n\n  render(): TemplateResult {\n    const hasIcon = this.icon !== '';\n    const hasIconAfter = this.iconAfter !== '';\n    const wrapperClasses = {\n      wrapper: true,\n      'has-icon-before': hasIcon,\n      'has-icon-after': hasIconAfter,\n    };\n\n    const iconElem = hasIcon\n      ? html`<vscode-icon\n          name=\"${this.icon}\"\n          ?spin=\"${this.iconSpin}\"\n          spin-duration=\"${ifDefined(this.iconSpinDuration)}\"\n          class=\"icon\"\n        ></vscode-icon>`\n      : nothing;\n\n    const iconAfterElem = hasIconAfter\n      ? html`<vscode-icon\n          name=\"${this.iconAfter}\"\n          ?spin=\"${this.iconAfterSpin}\"\n          spin-duration=\"${ifDefined(this.iconAfterSpinDuration)}\"\n          class=\"icon-after\"\n        ></vscode-icon>`\n      : nothing;\n\n    return html`\n      <span class=\"${classMap(wrapperClasses)}\">\n        ${iconElem}\n        <slot></slot>\n        ${iconAfterElem}\n      </span>\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'vscode-button': VscodeButton;\n  }\n}\n"]}