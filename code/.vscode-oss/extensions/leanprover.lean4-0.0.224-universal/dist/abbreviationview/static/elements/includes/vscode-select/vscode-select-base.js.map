{"version":3,"file":"vscode-select-base.js","sourceRoot":"","sources":["../../../src/includes/vscode-select/vscode-select-base.ts"],"names":[],"mappings":"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","sourcesContent":["import {html, nothing, TemplateResult} from 'lit';\nimport {property, query, queryAssignedElements, state} from 'lit/decorators.js';\nimport {classMap} from 'lit/directives/class-map.js';\nimport '../../vscode-button';\nimport '../../vscode-option';\nimport {VscodeOption} from '../../vscode-option/index.js';\nimport type {InternalOption, Option, SearchMethod} from './types.js';\nimport {filterOptionsByPattern} from './helpers.js';\nimport {VscElement} from '../VscElement.js';\n\ninterface OptionListStat {\n  selectedIndexes: number[];\n  values: string[];\n}\n\nconst VISIBLE_OPTS = 10;\nconst OPT_HEIGHT = 22;\nconst LIST_HEIGHT = VISIBLE_OPTS + OPT_HEIGHT + 2;\n\n/**\n * @cssprop --dropdown-z-index - workaround for dropdown z-index issues\n */\nexport class VscodeSelectBase extends VscElement {\n  /** @internal */\n  @property({type: String, reflect: true, attribute: 'aria-expanded'})\n  ariaExpanded = 'false';\n\n  @property({type: Boolean, reflect: true})\n  combobox = false;\n\n  @property({type: Boolean, reflect: true})\n  set disabled(newState: boolean) {\n    this._disabled = newState;\n    this.ariaDisabled = newState ? 'true' : 'false';\n\n    if (newState === true) {\n      this._originalTabIndex = this.tabIndex;\n      this.tabIndex = -1;\n    } else {\n      this.tabIndex = this._originalTabIndex ?? 0;\n      this._originalTabIndex = undefined;\n    }\n\n    this.requestUpdate();\n  }\n\n  get disabled(): boolean {\n    return this._disabled;\n  }\n\n  /**\n   * Sets the invalid state manually.\n   */\n  @property({type: Boolean, reflect: true})\n  invalid = false;\n\n  /**\n   * Search method in the filtered list within the combobox mode.\n   *\n   * - contains - The list item includes the searched pattern at any position.\n   * - fuzzy - The list item contains the letters of the search pattern in the same order, but at any position.\n   * - startsWith - The search pattern matches the beginning of the searched text.\n   * - startsWithPerTerm - The search pattern matches the beginning of any word in the searched text.\n   *\n   * @default 'fuzzy'\n   */\n  @property()\n  set filter(val: 'contains' | 'fuzzy' | 'startsWith' | 'startsWithPerTerm') {\n    const validValues: SearchMethod[] = [\n      'contains',\n      'fuzzy',\n      'startsWith',\n      'startsWithPerTerm',\n    ];\n\n    if (validValues.includes(val as SearchMethod)) {\n      this._filter = val as SearchMethod;\n    } else {\n      this._filter = 'fuzzy';\n      console.warn(\n        `[VSCode Webview Elements] Invalid filter: \"${val}\", fallback to default. Valid values are: \"contains\", \"fuzzy\", \"startsWith\", \"startsWithPerm\".`,\n        this\n      );\n    }\n  }\n  get filter(): 'contains' | 'fuzzy' | 'startsWith' | 'startsWithPerTerm' {\n    return this._filter;\n  }\n\n  @property({type: Boolean, reflect: true})\n  focused = false;\n\n  /**\n   * @attr [options=[]]\n   * @type {Option[]}\n   */\n  @property({type: Array})\n  set options(opts: Option[]) {\n    this._options = opts.map((op, index) => ({...op, index}));\n  }\n  get options(): Option[] {\n    return this._options.map(\n      ({label, value, description, selected, disabled}) => ({\n        label,\n        value,\n        description,\n        selected,\n        disabled,\n      })\n    );\n  }\n\n  /**\n   * Position of the options list when visible.\n   */\n  @property({reflect: true})\n  position: 'above' | 'below' = 'below';\n\n  /** @internal */\n  @property({type: Number, attribute: true, reflect: true})\n  tabIndex = 0;\n\n  @queryAssignedElements({\n    flatten: true,\n    selector: 'vscode-option',\n  })\n  private _assignedOptions!: VscodeOption[];\n\n  connectedCallback(): void {\n    super.connectedCallback();\n    this.addEventListener('keydown', this._onComponentKeyDown);\n    this.addEventListener('focus', this._onComponentFocus);\n    this.addEventListener('blur', this._onComponentBlur);\n  }\n\n  disconnectedCallback(): void {\n    super.disconnectedCallback();\n    this.removeEventListener('keydown', this._onComponentKeyDown);\n    this.removeEventListener('focus', this._onComponentFocus);\n    this.removeEventListener('blur', this._onComponentBlur);\n  }\n\n  @state()\n  protected _activeIndex = -1;\n\n  @state()\n  protected _currentDescription = '';\n\n  @state()\n  protected _filter: SearchMethod = 'fuzzy';\n\n  @state()\n  protected get _filteredOptions(): InternalOption[] {\n    if (!this.combobox || this._filterPattern === '') {\n      return this._options;\n    }\n\n    return filterOptionsByPattern(\n      this._options,\n      this._filterPattern,\n      this._filter\n    );\n  }\n\n  @state()\n  protected _filterPattern = '';\n\n  @state()\n  protected _selectedIndex = -1;\n\n  @state()\n  protected _selectedIndexes: number[] = [];\n\n  @state()\n  protected _showDropdown = false;\n\n  @state()\n  protected _options: InternalOption[] = [];\n\n  @state()\n  protected _value = '';\n\n  @state()\n  protected _values: string[] = [];\n\n  @state()\n  protected _listScrollTop = 0;\n\n  @query('.options')\n  private _listElement!: HTMLUListElement;\n\n  /** @internal */\n  protected _multiple = false;\n\n  /**\n   * @internal\n   * Quick-searchable map for searching a value in the options list.\n   * Keys are the options values, values are the option indexes.\n   */\n  protected _valueOptionIndexMap: {[key: string]: number} = {};\n\n  private _isHoverForbidden = false;\n  private _disabled = false;\n  private _originalTabIndex: number | undefined = undefined;\n\n  protected get _currentOptions(): InternalOption[] {\n    return this.combobox ? this._filteredOptions : this._options;\n  }\n\n  protected _addOptionsFromSlottedElements(): OptionListStat {\n    const options: InternalOption[] = [];\n    let nextIndex = 0;\n    const optionElements = this._assignedOptions ?? [];\n    const optionsListStat: OptionListStat = {\n      selectedIndexes: [],\n      values: [],\n    };\n    this._valueOptionIndexMap = {};\n\n    optionElements.forEach((el) => {\n      const {innerText, description, disabled} = el;\n      const value = (el.value ?? '') ? el.value : innerText.trim();\n      const selected = el.selected ?? false;\n      const op: InternalOption = {\n        label: innerText.trim(),\n        value,\n        description,\n        selected,\n        index: nextIndex,\n        disabled,\n      };\n\n      nextIndex = options.push(op);\n\n      if (selected) {\n        optionsListStat.selectedIndexes.push(options.length - 1);\n        optionsListStat.values.push(value);\n      }\n\n      this._valueOptionIndexMap[op.value] = op.index;\n    });\n\n    this._options = options;\n\n    return optionsListStat;\n  }\n\n  protected async _toggleDropdown(visible: boolean): Promise<void> {\n    this._showDropdown = visible;\n    this.ariaExpanded = String(visible);\n\n    if (visible && !this._multiple && !this.combobox) {\n      this._activeIndex = this._selectedIndex;\n\n      if (this._activeIndex > VISIBLE_OPTS - 1) {\n        await this.updateComplete;\n\n        this._listElement.scrollTop = Math.floor(\n          this._activeIndex * OPT_HEIGHT\n        );\n      }\n    }\n\n    if (visible) {\n      window.addEventListener('click', this._onClickOutside);\n    } else {\n      window.removeEventListener('click', this._onClickOutside);\n    }\n  }\n\n  protected _dispatchChangeEvent(): void {\n    if (!this._multiple) {\n      /** @deprecated */\n      this.dispatchEvent(\n        new CustomEvent('vsc-change', {\n          detail: {\n            selectedIndex: this._selectedIndex,\n            value: this._value,\n          },\n        })\n      );\n    } else {\n      /** @deprecated */\n      this.dispatchEvent(\n        new CustomEvent('vsc-change', {\n          detail: {\n            selectedIndexes: this._selectedIndexes,\n            value: this._values,\n          },\n        })\n      );\n    }\n    this.dispatchEvent(new Event('change'));\n  }\n\n  protected _onFaceClick(): void {\n    this._toggleDropdown(!this._showDropdown);\n\n    if (this._multiple) {\n      this._activeIndex = 0;\n    }\n  }\n\n  private _onClickOutside = (event: MouseEvent): void => {\n    const path = event.composedPath();\n    const found = path.findIndex((et) => et === this);\n\n    if (found === -1) {\n      this._toggleDropdown(false);\n      window.removeEventListener('click', this._onClickOutside);\n    }\n  }\n\n  private _onMouseMove = () => {\n    this._isHoverForbidden = false;\n    window.removeEventListener('mousemove', this._onMouseMove);\n  }\n\n  private _toggleComboboxDropdown() {\n    this._filterPattern = '';\n    this._toggleDropdown(!this._showDropdown);\n\n    if (this._multiple) {\n      this._activeIndex = -1;\n    }\n  }\n\n  protected _onComboboxButtonClick(): void {\n    this._toggleComboboxDropdown();\n  }\n\n  protected _onComboboxButtonKeyDown(ev: KeyboardEvent): void {\n    if (ev.key === 'Enter') {\n      this._toggleComboboxDropdown();\n    }\n  }\n\n  protected _onOptionMouseOver(ev: MouseEvent): void {\n    if (this._isHoverForbidden) {\n      return;\n    }\n\n    const el = ev.target as HTMLElement;\n\n    if (!el.matches('.option')) {\n      return;\n    }\n\n    this._activeIndex = Number(\n      this.combobox ? el.dataset.filteredIndex : el.dataset.index\n    );\n  }\n\n  protected _onEnterKeyDown(): void {\n    const list = this.combobox ? this._filteredOptions : this._options;\n    const showDropdownNext = !this._showDropdown;\n\n    this._toggleDropdown(showDropdownNext);\n\n    if (\n      !this._multiple &&\n      !showDropdownNext &&\n      this._selectedIndex !== this._activeIndex\n    ) {\n      this._selectedIndex = list[this._activeIndex].index;\n      this._value = this._options[this._selectedIndex].value;\n      this._dispatchChangeEvent();\n    }\n\n    if (this.combobox) {\n      if (!this._multiple && !showDropdownNext) {\n        this._selectedIndex = this._filteredOptions[this._activeIndex].index;\n      }\n\n      if (!this._multiple && showDropdownNext) {\n        this.updateComplete.then(() => {\n          this._scrollActiveElementToTop();\n        });\n      }\n    }\n\n    if (this._multiple && showDropdownNext) {\n      this._activeIndex = 0;\n    }\n  }\n\n  private _onSpaceKeyDown() {\n    if (!this._showDropdown) {\n      this._toggleDropdown(true);\n      return;\n    }\n\n    if (this._showDropdown && this._multiple && this._activeIndex > -1) {\n      const opts = this.combobox ? this._filteredOptions : this._options;\n      const {selected} = opts[this._activeIndex];\n\n      opts[this._activeIndex].selected = !selected;\n      this._selectedIndexes = [];\n\n      opts.forEach(({index, selected}) => {\n        if (selected) {\n          this._selectedIndexes.push(index);\n        }\n      });\n    }\n  }\n\n  private _scrollActiveElementToTop() {\n    this._listElement.scrollTop = Math.floor(this._activeIndex * OPT_HEIGHT);\n  }\n\n  private async _adjustOptionListScrollPos(direction: 'down' | 'up') {\n    const numOpts = this.combobox\n      ? this._filteredOptions.length\n      : this._options.length;\n\n    if (numOpts <= VISIBLE_OPTS) {\n      return;\n    }\n\n    this._isHoverForbidden = true;\n    window.addEventListener('mousemove', this._onMouseMove);\n\n    if (!this._listElement) {\n      await this.updateComplete;\n    }\n\n    const ulScrollTop = this._listElement.scrollTop;\n    const liPosY = this._activeIndex * OPT_HEIGHT;\n\n    if (direction === 'down') {\n      if (liPosY + OPT_HEIGHT >= LIST_HEIGHT + ulScrollTop) {\n        this._listElement.scrollTop =\n          (this._activeIndex - (VISIBLE_OPTS - 1)) * OPT_HEIGHT;\n      }\n    }\n\n    if (direction === 'up') {\n      if (liPosY <= ulScrollTop - OPT_HEIGHT) {\n        this._scrollActiveElementToTop();\n      }\n    }\n  }\n\n  protected _onArrowUpKeyDown(): void {\n    if (this._showDropdown) {\n      if (this._activeIndex <= 0) {\n        return;\n      }\n\n      this._activeIndex -= 1;\n      this._adjustOptionListScrollPos('up');\n    }\n  }\n\n  protected _onArrowDownKeyDown(): void {\n    if (this._showDropdown) {\n      if (this._activeIndex >= this._currentOptions.length - 1) {\n        return;\n      }\n\n      this._activeIndex += 1;\n      this._adjustOptionListScrollPos('down');\n    }\n  }\n\n  private _onComponentKeyDown(event: KeyboardEvent) {\n    if ([' ', 'ArrowUp', 'ArrowDown', 'Escape'].includes(event.key)) {\n      event.stopPropagation();\n      event.preventDefault();\n    }\n\n    if (event.key === 'Enter') {\n      this._onEnterKeyDown();\n    }\n\n    if (event.key === ' ') {\n      this._onSpaceKeyDown();\n    }\n\n    if (event.key === 'Escape') {\n      this._toggleDropdown(false);\n    }\n\n    if (event.key === 'ArrowUp') {\n      this._onArrowUpKeyDown();\n    }\n\n    if (event.key === 'ArrowDown') {\n      this._onArrowDownKeyDown();\n    }\n  }\n\n  private _onComponentFocus() {\n    this.focused = true;\n  }\n\n  private _onComponentBlur() {\n    this.focused = false;\n  }\n\n  protected _onSlotChange(): void {\n    const stat = this._addOptionsFromSlottedElements();\n\n    if (stat.selectedIndexes.length > 0) {\n      this._selectedIndex = stat.selectedIndexes[0];\n      this._selectedIndexes = stat.selectedIndexes;\n      this._value = stat.values[0];\n      this._values = stat.values;\n    }\n\n    if (\n      !this._multiple &&\n      !this.combobox &&\n      stat.selectedIndexes.length === 0\n    ) {\n      this._selectedIndex = 0;\n    }\n\n    this.requestUpdate();\n  }\n\n  protected _onComboboxInputFocus(ev: FocusEvent): void {\n    (ev.target as HTMLInputElement).select();\n  }\n\n  protected _onComboboxInputInput(ev: InputEvent): void {\n    this._filterPattern = (ev.target as HTMLInputElement).value;\n    this._activeIndex = -1;\n    this._toggleDropdown(true);\n  }\n\n  protected _onComboboxInputClick(): void {\n    this._toggleDropdown(true);\n  }\n\n  protected _renderOptions(): TemplateResult | TemplateResult[] {\n    return [];\n  }\n\n  private _renderDescription() {\n    if (!this._options[this._activeIndex]) {\n      return nothing;\n    }\n\n    const {description} = this._options[this._activeIndex];\n\n    return description\n      ? html`<div class=\"description\">${description}</div>`\n      : nothing;\n  }\n\n  protected _renderSelectFace(): TemplateResult {\n    return html`${nothing}`;\n  }\n\n  protected _renderComboboxFace(): TemplateResult {\n    return html`${nothing}`;\n  }\n\n  protected _renderDropdownControls(): TemplateResult {\n    return html`${nothing}`;\n  }\n\n  private _renderDropdown() {\n    const classes = classMap({\n      dropdown: true,\n      multiple: this._multiple,\n    });\n\n    return html`\n      <div class=\"${classes}\">\n        ${this.position === \"above\" ? this._renderDescription() : nothing}\n        ${this._renderOptions()} ${this._renderDropdownControls()}\n        ${this.position === \"below\" ? this._renderDescription() : nothing}\n      </div>\n    `;\n  }\n\n  render(): TemplateResult {\n    return html`\n      <slot class=\"main-slot\" @slotchange=\"${this._onSlotChange}\"></slot>\n      ${this.combobox ? this._renderComboboxFace() : this._renderSelectFace()}\n      ${this._showDropdown ? this._renderDropdown() : nothing}\n    `;\n  }\n}\n"]}